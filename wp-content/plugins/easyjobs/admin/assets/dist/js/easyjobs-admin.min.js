!function(l){"use strict";l.easyjobs=l.easyjobs||{},l(document).ready(function(){l.easyjobs.init()}),l.easyjobs.init=function(){l.easyjobs.handleJobSearch(),l.easyjobs.handlePipelineCandidateChange(),l.easyjobs.handlePipelineStage(),l.easyjobs.searchFilterCandidates(),l.easyjobs.checkApiKey(),l.easyjobs.renderCandidateResume(),l.easyjobs.handleCopyText(),l.easyjobs.connectPlugin(),l.easyjobs.disconnectApi(),l.easyjobs.handlePagination(),l.easyjobs.handleJobDropdown(),l.easyjobs.handleCandidateDetailsTab(),l.easyjobs.handleAllCandidateSearchFilter(),l.easyjobs.handleAllCandidatePagination(),l.easyjobs.handleAllCandidateSearchFilterReset(),l.easyjobs.handlePipelineHamburgerToggle(),l.easyjobs.handlePipelineCandidateDrag(),l.easyjobs.handlePipelineGridRegenerate(),l.easyjobs.handleSignInOptionToggle(),l.easyjobs.handleSignIn(),l.easyjobs.handleCompanySelect(),l.easyjobs.initSelect2(),l.easyjobs.handleSignUp(),l.easyjobs.handleCompanyCreate(),l.easyjobs.handleMovePipleButtonDisplay(),l.easyjobs.handleJobDelete(),l.easyjobs.handleAdminMenuHighlight(),l.easyjobs.handleCandidateExport(),l.easyjobs.handleCandidateInvite(),l.easyjobs.handleRating(),l.easyjobs.handleGreetingModal(),l.easyjobs.handleWatchVideo(),l.easyjobs.handleNoteAdd(),l.easyjobs.handleNoteDelete(),l.easyjobs.handleRemoveCandidate(),l.easyjobs.handleConfirmationAction(),l.easyjobs.handleSyncData()},l.easyjobs.handleJobSearch=function(){var e,a=l(".easyjobs-job-search");a.on("keyup",function(){clearTimeout(e),e=setTimeout(function(){g()},1e3)}),a.on("keydown",function(){clearTimeout(e)})},l.easyjobs.handlePipelineCandidateChange=function(){l("a.change-pipeline").on("click",function(e){e.preventDefault();var a=l(this),t=l(".pipeline-box .pipeline-content"),n=a.data("key"),e=a.data("job-id"),s=[],a=l(".applicant:checked");l.each(a,function(e,a){s.push(parseInt(l(a).val()))}),i(n,s,e,t,function(){window.location.replace(easyJobsJs.current_page)})}),l(".candidate-details-pipeline a.stage").on("click",function(e){e.preventDefault();var a=l(this),t=l(".candidate-details-user"),n=a.data("stage"),s=a.data("job-id"),e=a.data("candidate-id");i(n,[e],s,t,function(){l(".candidate-details-pipeline .pipeline-toggle").html(a.html())})})},l.easyjobs.handlePipelineStage=function(){l("body").on("click",".add-new-stage",function(e){e.preventDefault();var a=l("#add_new_stage"),e=a.val();e.length?(l(".pipeline-main-wrapper").append(p(e)),a.val(""),a.siblings(".error-message").html("")):a.siblings(".error-message").html("Please write the step name")}),l("body").on("click",".delete-stage",function(e){e.preventDefault(),l(this).parents(".input-wrapper").remove()}),l("body").on("submit",".save-pipeline",function(e){e.preventDefault();var a=l(this),t=a.data("nonce"),e=a.data("job-id"),n=l(".modal"),a=a.find(".pipeline-stage"),s=[];a.each(function(e,a){a=l(a);0===parseInt(a.data("stage-id"))?s.push({id:a.data("stage-id"),name:a.val(),order:e,default:1,is_fixed:1}):s.push({id:a.data("stage-id"),name:a.val(),order:e,default:0,is_fixed:0})}),l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:s,nonce:t,job_id:e,action:"easyjobs_save_pipeline"},beforeSend:function(){n.addClass("loading")},success:function(e){"success"===JSON.parse(e).status.trim()&&window.location.replace(easyJobsJs.current_page)},complete:function(){n.removeClass("loading")}})}),l("#pipeline-modal").on("hide.bs.modal",function(){var e=l("#add_new_stage");e.val(""),e.siblings(".error-message").html("")})},l.easyjobs.searchFilterCandidates=function(){var e,a=l(".easyjobs-search-candidates"),t=l(".ej-job-candidate-filter select");l(".ej-candidate-search").on("submit",function(e){e.preventDefault(),u(o())}),a.on("keyup",function(){clearTimeout(e),e=setTimeout(function(){u(o())},1e3)}),a.on("keydown",function(){clearTimeout(e)}),l(".easyjobs-filter .filter, .easyjobs-filter .stage-filter").on("change",function(e){e.preventDefault(),u(o())}),t.on("change",function(e){e.preventDefault(),u(o())})},l.easyjobs.checkApiKey=function(){l("#easyjobs-submit-general").off("click").on("click",function(e){e.preventDefault();var a=l(this),t=a.data("nonce"),n=a.data("key"),e=a.parents("#easyjobs-settings-form").serializeArray();l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:e,nonce:t,key:n,action:"easyjobs_connect_api"},beforeSend:function(){a.html("<span>Saving...</span>")},success:function(e){"success"===e.trim()?(swal({title:"Api Connected!",text:"Click OK to continue",icon:"success",buttons:[!1,"Ok"],timer:2e3}),setTimeout(function(){location.reload()},500)):swal({title:"Api Not Connected, Invalid api key!",text:"Click OK to continue",icon:"error",buttons:[!1,"Ok"]})},complete:function(){a.html("Save Settings")}})})},l.easyjobs.renderCandidateResume=function(){l('.candidate-tabs a[data-toggle="tab"]').on("shown.bs.tab",function(e){e=l(e.target).attr("href");"#resume"===e&&((e=l(e).find(".resume-link").data("resume-link")).length?l(".candidate-resume-iframe").html('<iframe width="100%" height="500" src=" '+e+'#toolbar=0&navpanes=0&scrollbar=0" frameborder="0"></iframe>'):l(".candidate-resume-iframe").html('<h4 class="empty-message">Not found</h4>'))})},l.easyjobs.handleCopyText=function(){l("body").on("click",".easyjobs-copy-shortcode",function(){var e=l(this),a=e.parent(".easyjobs-control-wrapper ").find(".easyjobs-settings-field"),e=e.find(".easyjobs-copytext");a.select(),document.execCommand("copy"),e.html("Copied: "+a.val())}),l("body").on("mouseout",".easyjobs-copy-shortcode",function(){l(this).find(".easyjobs-copytext").html("Copy to clipboard")})},l.easyjobs.connectPlugin=function(){l(".ej-connect-form-btn").on("click",function(e){e.preventDefault();var a=l(this),t=a.data("nonce"),n=a.data("key"),s=a.parents(".ej-connect-form"),e=s.serializeArray(),s=s.find('input[name="easyjobs_api_key"]');s.val()?l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:e,nonce:t,key:n,action:"easyjobs_connect_api"},beforeSend:function(){a.html("<span>Connecting...</span>")},success:function(e){("success"===e.trim()?l("#apiConnectStatus").find(".ej-success-msg"):l("#apiConnectStatus").find(".ej-error-msg")).show(),l("#apiConnectStatus").modal()},complete:function(){a.html("Connect")}}):s.siblings(".error-message").length||s.after('<div class="error-message">Please insert api key</div>')}),l("#apiConnectStatus").on("hide.bs.modal",function(e){window.location=easyJobsJs.admin_url+"?page=easyjobs-admin&welcome=yes"})},l.easyjobs.disconnectApi=function(){l(".easyjobs-footer-link-general").on("click",function(e){e.preventDefault();var a=l(this),t=a.data("nonce"),e=a.data("key");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{nonce:t,key:e,action:"easyjobs_disconnect_api"},beforeSend:function(){a.html("<span>Disconnecting...</span>")},success:function(e){"success"===e.trim()?(swal({title:"Api Disconnected successfully",text:"Click OK to continue",icon:"success",buttons:[!1,"Ok"],timer:2e3}),setTimeout(function(){window.location.href=easyJobsJs.admin_url+"?page=easyjobs-admin"},500)):swal({title:"Api Disconnect failed",text:"Click OK to continue",icon:"error",buttons:[!1,"Ok"]})},complete:function(){a.html("Disconnect Api")}})})},l.easyjobs.handlePagination=function(){l("body").on("click",".easyjobs-next-page-link",function(e){e.preventDefault();e=l(this).parents(".pagination-list").find(".pagination-list__item--active").next(".pagination-list__item ").find("a").attr("href");"#"!==e&&(window.location=e)}),l("body").on("click",".easyjobs-prev-page-link",function(e){e.preventDefault();e=l(this).parents(".pagination-list").find(".pagination-list__item--active").prev(".pagination-list__item ").find("a").attr("href");"#"!==e&&(window.location=e)})},l.easyjobs.handleJobDropdown=function(){l(".ej-job-type-select .dropdown-item").on("click",function(){var e=l(this),a=e.html();e.attr("href").replace("#","");e.siblings(".dropdown-item").removeClass("active"),l(".ej-job-type-select .dropdown-toggle").html(a)})},l.easyjobs.handleCandidateDetailsTab=function(){l(".applicant-details .nav-tabs .nav-link").on("click",function(){l(this).siblings(".nav-link").removeClass("active")})},l.easyjobs.handleAllCandidateSearchFilter=function(){var e,a=l(".ej-all-candidate-search");a.on("keyup",function(){clearTimeout(e),e=setTimeout(function(){j(y())},1e3)}),a.on("keydown",function(){clearTimeout(e)}),l(".candidates-filter .ej-candidate-job-select, .candidates-filter .ej-candidate-rating-select, .candidates-filter .ej-candidate-status-select").on("change",function(e){e.preventDefault(),j(y())})},l.easyjobs.handleAllCandidatePagination=function(){l("body").on("click",".ej-js-pagination li a:not('.ej-pagination-control')",function(e){e.preventDefault();var a=l(this).data("page-number"),e=(l(".ej-all-candidates"),y());e.page=a,j(e)}),l("body").on("click",".ej-candidate-next-page-link",function(e){e.preventDefault();var a=l(this).parents(".pagination-list").find(".pagination-list__item--active").next(".pagination-list__item ").find("a"),e=l(a).data("page-number"),a=y();a.page=e,j(a)}),l("body").on("click",".ej-candidate-prev-page-link",function(e){e.preventDefault();var a=l(this).parents(".pagination-list").find(".pagination-list__item--active").prev(".pagination-list__item").find("a"),e=l(a).data("page-number"),a=y();a.page=e,j(a)})},l.easyjobs.handleAllCandidateSearchFilterReset=function(){l(".ej-all-candidate-reset").on("click",function(e){e.preventDefault(),l(".ej-all-candidate-search").val("").html(""),l(".ej-candidate-job-select").val("select"),l(".ej-candidate-rating-select").val("select"),l(".ej-candidate-status-select").val("select"),j({})})},l.easyjobs.handlePipelineHamburgerToggle=function(){l(".pipeline-hamburger").on("click",function(e){e.preventDefault(),l(this).toggleClass("hamburger-button-active"),l(".pipeline-nav").toggleClass("hamburger-menu-show")})},l.easyjobs.handlePipelineCandidateDrag=function(){l(".pipeline__board--content").sortable({connectWith:".pipeline__board--content",cursor:"move",items:"li.pipeline-card",beforeStop:function(e,a){a=l(a.item[0]).parents(".pipeline__board--content").find(".pipeline-card-not-found");a.length&&a.remove()},update:function(e,a){var t,s,n,i,o,c;a.sender&&(t=(o=l(a.item[0])).data("applicant-id"),n=(s=a.sender).data("pipeline-id"),a=(i=o.parents(".pipeline__board--content")).data("pipeline-id"),o=i.data("job-id"),c=l("#pipeline-list-box"),n!==a&&(s.find(".pipeline-card").length||s.append('<li class="pipeline-card-not-found"><p>No candidates found</p></li>'),l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{pipeline_id:a,applicants_id:[t],job_id:o,action:"easyjobs_change_pipeline"},beforeSend:function(){c.addClass("ej-loading")},success:function(e){var a,t,n;"success"===JSON.parse(e).status.trim()&&(a=s.siblings(".pipeline__board--title").find(".candidates-number"),t=parseInt(a.html()),n=i.siblings(".pipeline__board--title").find(" .candidates-number"),e=parseInt(n.html()),t&&a.html(t-1),n.html(e+1))},complete:function(){c.removeClass("ej-loading")}})))}}).disableSelection()},l.easyjobs.handlePipelineGridRegenerate=function(){l(".toggler-button").on("show.bs.tab",function(e){var a=l(e.target),t=a.data("job-id"),n=l(".pipeline-tab-content"),e=a.attr("href").replace("#","");a.parents(".content-area__body").find(".pipeline-move-btn").hide(),"pipeline-box"===e&&l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{job_id:t,action:"easyjobs_get_pipeline"},beforeSend:function(){n.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()&&C(e.data)},complete:function(){n.removeClass("ej-loading")}})})},l.easyjobs.handleSignInOptionToggle=function(){l(".alt__login").on("click",function(e){e.preventDefault();var a=l(this),e=l("."+a.data("target"));a.removeClass("active").siblings(".alt__login").addClass("active"),e.siblings(".connect-option").hide(),e.fadeIn(200).addClass("active")}),l(".create-account-btn").on("click",function(e){e.preventDefault(),l(".landing-tabs li:first-child a").removeClass("active"),l(".landing-tabs li:last-child a").addClass("active"),l(".landing-tab-content .tab-pane:first-child").removeClass("active show"),l(".landing-tab-content .tab-pane:last-child").addClass("active show")}),l(".sign-in-btn").on("click",function(e){e.preventDefault(),l(".landing-tabs li:last-child a").removeClass("active"),l(".landing-tabs li:first-child a").addClass("active"),l(".landing-tab-content .tab-pane:last-child").removeClass("active show"),l(".landing-tab-content .tab-pane:first-child").addClass("active show")})},l.easyjobs.handleSignIn=function(){l(".ej-login-form").on("submit",function(e){e.preventDefault();var n=l(this),a=n.serializeArray(),e=n.data("nonce"),t=l(".sign-in.connect-option");c(n)&&l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:a,nonce:e,action:"easyjobs_signin"},beforeSend:function(){t.addClass("ej-loading")},success:function(e){var t=JSON.parse(e);"success"===t.status.trim()?("reload"===(e=t.action.trim())&&(swal({title:"Signed in successfully",text:"Click ok to continue",icon:"success",buttons:[!1,"Ok"]}),setTimeout(function(){window.location.href=easyJobsJs.admin_url+"?page=easyjobs-admin&welcome=yes"},500)),"create_company"===e&&(window.location.href=easyJobsJs.current_page+"&landing_view=create_company&user="+t.user_key),"select_company"===e&&(l(".connect-option").each(function(e,a){l(a).hide()}),l(".social-signin").hide(),l(".company-select").fadeIn(200).find("select").append(s(t.companies)))):(t.error_type&&"invalid_nonce"===t.error_type.trim()&&swal({title:t.message,text:"Click ok to continue",icon:"error",buttons:[!1,"Ok"]}),l.each(t.errors,function(e,a){"global"===e.trim()?swal({title:t.errors.global,text:"Click ok to continue",icon:"error",buttons:[!1,"Ok"]}):r(n,e,a)}))},complete:function(){t.removeClass("ej-loading")}})})},l.easyjobs.handleCompanySelect=function(){l(".ej-company-select-form").on("submit",function(e){e.preventDefault();var a=l(this),t=l(".login-box"),e=a.data("nonce"),a=a.find('select[name="select_company"]');a.val()||a.siblings(".error-message").length||a.after('<div class="error-message"> Please select company </div>'),l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{company:a.val(),nonce:e,action:"easyjobs_save_company"},beforeSend:function(){t.addClass("ej-loading")},success:function(e){var a=l("#apiConnectStatus");("success"===e.trim()?a.find(".ej-success-msg"):a.find(".ej-error-msg")).show(),a.modal()},complete:function(){t.removeClass("ej-loading")}})})},l.easyjobs.initSelect2=function(){l(".ej-select").select2(),l(".tag-select select").select2({placeholder:"Tag a manager"})},l.easyjobs.handleSignUp=function(){l(".ej-signup-form").on("submit",function(e){e.preventDefault();var n=l(this),a=n.data("nonce"),e=n.serializeArray(),t=!0,s=null,i=null,o=l(".easy-page-body .login-box");l.each(e,function(e,a){"password"===a.name&&(s=a.value),"password_confirm"===a.name&&(i=a.value),t=d(n,a.name,a.value)}),t&&(s&&i&&s!==i?r(n,"password_confirm","Password confirmation dose not match"):l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:e,nonce:a,action:"easyjobs_signup"},beforeSend:function(){o.addClass("ej-loading")},success:function(e){var t=JSON.parse(e);"success"===t.status.trim()?location.href=easyJobsJs.current_page+"&landing_view=create_company&user="+t.user_key:l.each(t.errors,function(e,a){"global"===e.trim()?swal({title:t.errors.global,text:"Click ok to continue",icon:"error",buttons:[!1,"Ok"]}):r(n,e,a)})},complete:function(){o.removeClass("ej-loading")}}))})},l.easyjobs.handleCompanyCreate=function(){l(".ej-company-create-form").on("submit",function(e){e.preventDefault();var t,n=l(this),a=n.serializeArray(),s=n.data("user-key"),i=n.data("nonce"),o=l(".easy-page-body .login-box"),e=n.find('input[name="terms_and_policy"]');a.push({name:"terms_and_policy",value:e.is(":checked")?"true":""}),c(n,a)&&(t=null,a.map(function(e,a){"industry"===e.name&&(t={value:e.value,index:a})}),n.find("industry"),e=l(".ej-select.industry-select").select2("data"),a[t.index]={name:"industry",value:{id:t.value,name:e[0].text.trim()}},l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:a,user_key:s,nonce:i,action:"easyjobs_create_company"},beforeSend:function(){o.addClass("ej-loading")},success:function(e){var t=JSON.parse(e);"success"===t.status.trim()?window.location.href=easyJobsJs.admin_url+"?page=easyjobs-admin&welcome=yes":l.each(t.errors,function(e,a){"global"===e.trim()?swal({title:t.errors.global,text:"Click ok to continue",icon:"error",buttons:[!1,"Ok"]}):r(n,e,a)})},complete:function(){o.removeClass("ej-loading")}}))})},l.easyjobs.handleMovePipleButtonDisplay=function(){l(document).on("change",'.pipeline-checkbox input[type="checkbox"]',function(){var e=l(this),a=l(".pipeline-move-btn");e.is(":checked")?a.fadeIn(100):e.parents(".pipeline-tab").find('.pipeline-checkbox input[type="checkbox"]').filter(function(e,a){return l(a).is(":checked")}).length||a.hide()})},l.easyjobs.handleJobDelete=function(){l(".delete-job").on("click",function(e){e.preventDefault();var a=l(this),t=a.data("job-id"),e=a.data("nonce"),n=a.parents(".ej-jobs");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{job_id:t,nonce:e,action:"easyjobs_delete_job"},beforeSend:function(){n.addClass("ej-loading")},success:function(e){"success"===JSON.parse(e).status.trim()?(swal({title:"Job deleted successfully!!",text:"Click ok to continue",icon:"success",buttons:[!1,"Ok"]}),setTimeout(function(){location.reload()},1500)):swal({title:"Job delete failed",text:"Click ok to continue",icon:"error",buttons:[!1,"Ok"]})},complete:function(){n.removeClass("ej-loading")}})})},l.easyjobs.handleAdminMenuHighlight=function(){var t=l(".toplevel_page_easyjobs-admin").find(".wp-submenu.wp-submenu-wrap"),e=window.location.search.replace("?page=",""),a=window.location.hash.replace("#/","");"easyjobs"===e.trim()&&"settings"===a.trim()&&(t.find("li").removeClass("current"),t.find("li a:contains('Settings')").addClass("current").parent("li").addClass("current")),window.addEventListener("hashchange",function(){var e=window.location.search.replace("?page=",""),a=window.location.hash.replace("#/","");"easyjobs"===e.trim()&&"settings"===a.trim()&&(t.find("li").removeClass("current"),t.find("li a:contains('Settings')").addClass("current").parent("li").addClass("current"))})},l.easyjobs.handleCandidateExport=function(){l(".ej-export-candidates").on("click",function(e){e.preventDefault();var a=l(".candidates-table .table-wrap"),e=l(".easyjobs-job-id").val();l(".candidates-table .table__body .table__row").length?l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{job_id:e,action:"easyjobs_export_job_candidates",keywords:o()},beforeSend:function(){a.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()&&e.data.url?window.location.href=e.data.url:swal({title:"Unable to export candidates",text:e.message||"Click ok to continue",icon:"error",buttons:[!1,"Ok"]})},complete:function(){a.removeClass("ej-loading")}}):swal({title:"No candidates to export",text:"Click ok to continue",icon:"error",buttons:[!1,"Ok"],timer:1500})})},l.easyjobs.handleCandidateInvite=function(){var e=l(".ej-invite-candidate-modal"),a=l(".ej-invite-candidate-modal .modal-dialog .modal-content .invite__candidate--table .table-wrap");e.on("show.bs.modal",function(){J()}),e.on("hidden.bs.modal",function(){a.html(""),l(".ej-invite-candidate .error-message").html("")}),l(".ej-invite-candidate").on("submit",function(e){e.preventDefault();var a=l(this),e=a.find(".user-email").val();e.length?S(e,!1):a.find(".error-message").html("Please insert email address")}),l("body").on("click",".resend-invitation",function(e){e.preventDefault();e=l(this).parents(".table__row").data("candidate-email");S(e,!0)}),l("body").on("click",".delete-invitation",function(e){e.preventDefault();var a=l(this),t=l(".ej-invite-candidate-modal .modal-dialog .modal-content"),e=l(".easyjobs-job-id").val(),a=a.parents(".table__row").data("candidate-email");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{id:e,action:"easyjobs_post_data",type:"delete_invitation",data:{email:a}},beforeSend:function(){t.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(swal({title:"Invitation removed",text:"Click ok to continue",icon:"success",buttons:[!1,"Ok"],timer:2e3}),J()):swal({title:"Unable to remove invitation",text:e.message||"Click ok to continue",icon:"error",buttons:[!1,"Ok"]})},complete:function(){t.removeClass("ej-loading")}})})},l.easyjobs.handleRating=function(){l("body").on("mouseover",".user__text__ratting .rate-count",function(){var e=l(this);e.addClass("rated"),e.prevAll(".rate-count").addClass("rated"),e.nextAll(".rate-count").removeClass("rated")}),l("body").on("mouseleave",".user__text__ratting",function(){l(this).find(".rate-count").each(function(e,a){a=l(a);a.hasClass("has-rating")?a.addClass("rated"):a.removeClass("rated")})}),l(".candidates-table .rate-count").on("click",function(e){e.preventDefault();e=l(this);a(e,l(".candidates-table"),e.parents(".table__row").data("candidate-id"))}),l(".applicant-details .user-info__list .rate-count").on("click",function(e){e.preventDefault();e=l(this);a(e,l(".applicant-details .user-info__list"),new URL(window.location.href).searchParams.get("candidate-id"),!0)}),l(".user__ratting--removable").on("click",function(e){e.preventDefault();e=l(".user__ratting .candidate-rating").val();0!==parseInt(e)&&l(this).parents(".easy-page-body").find(".dg-wrapper.ratting-confirmation").fadeIn(300)}),l(".remove-rating-cancel").on("click",function(e){e.preventDefault(),l(this).parents(".dg-wrapper").removeAttr("data-id"),l(this).parents(".dg-wrapper").removeAttr("data-action"),l(this).parents(".dg-wrapper").fadeOut(200)}),l(".remove-rating").on("click",function(e){e.preventDefault();var a=l(this);l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{id:new URL(window.location.href).searchParams.get("candidate-id"),action:"easyjobs_post_data",type:"rate_candidate",data:{rating:0}},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(swal({title:"Rating removed successfully",text:"Click ok to continue",icon:"success",buttons:[!1,"Ok"]}),setTimeout(function(){window.location.reload()},1200)):swal({title:"Unable to remove rating",text:e.message||"Click ok to continue",icon:"error",buttons:[!1,"Ok"],timer:2e3})},complete:function(){a.parents(".dg-wrapper").fadeOut(100)}})})},l.easyjobs.handleGreetingModal=function(){l(".greeting-close-btn").on("click",function(e){e.preventDefault(),l(this).parents(".modal").removeClass("show")})},l.easyjobs.handleWatchVideo=function(){l(".ej-intro-video .watch-button").on("click",function(e){e.preventDefault(),l(".ej-intro-video .content__thumb img").hide(),l(this).hide();var a=l(".ej-intro-video .video").find("iframe"),e=a.attr("src");a.attr("src",e+"&autoplay=1"),l(".ej-intro-video .video").fadeIn(300)})},l.easyjobs.handleNoteAdd=function(){l(".ej-add-note").on("submit",function(e){e.preventDefault();var a=l(this),e=a.data("candidate-id"),t=a.find("textarea");if(!t.val().length)return t.addClass("has-error"),void(t.siblings(".error-message").length?t.siblings(".error-message").html("Please write some note"):t.after('<div class="error-message">Please write some note</div>'));l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{form_data:a.serializeArray(),candidate_id:e,action:"easyjobs_save_candidate_note"},beforeSend:function(){a.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(P(t),a.parents(".ej-candidate-notes-from").siblings(".ej-candidate-notes").length?A(e.data,!1):A(e.data,!0),t.val(""),l(".tag-select select").val(null).trigger("change")):D(t,e.message)},complete:function(){a.removeClass("ej-loading")}})})},l.easyjobs.handleNoteDelete=function(){l("body").on("click",".note-info .erase-button",function(e){e.preventDefault();var a=l(this).parents(".note-info").data("note-id"),e=l(".ej-candidate-confirmation");return e.find(".dg-content").html("Are you sure, you want to remove this note?"),e.attr("data-action","delete-note").attr("data-id",a).fadeIn(200),!1})},l.easyjobs.handleRemoveCandidate=function(){l(".ej-remove-candidate").on("click",function(e){e.preventDefault();var a=I(),e=l(".ej-candidate-confirmation");e.find(".dg-content").html("Are you sure, you want to remove this candidate?"),e.attr("data-action","delete-candidate").attr("data-id",a).fadeIn(200)})},l.easyjobs.handleConfirmationAction=function(){l("body").on("click",".ej-candidate-action-confirm",function(){var e=document.querySelector(".ej-candidate-confirmation"),a=e.dataset.id,e=e.dataset.action;"delete-note"===e.toString()&&n(a),"delete-candidate"===e.toString()&&t([a])})},l.easyjobs.handleSyncData=function(){l(".ej-sync-btn").on("click",function(e){e.preventDefault();var a=l(this),e=a.data("nonce");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{nonce:e,action:"easyjobs_sync_data"},beforeSend:function(){a.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(N(e.message,{type:"success",autoClose:1200}),setTimeout(function(){window.location=easyJobsJs.current_page},1500)):N(e.message,{type:"danger",autoClose:1200})},complete:function(){a.removeClass("ej-loading")}})})};var t=function(e){var a=l(".ej-job-id").val(),t=l(".applicant-details");l(".ej-candidate-confirmation").fadeOut(150),l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{job:a,candidates:e,action:"easyjobs_delete_candidate"},beforeSend:function(){t.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(N(e.message,{type:"success",autoClose:1200}),setTimeout(function(){window.location=easyJobsJs.admin_url+"?page=easyjobs-candidates"},1300)):N(e.message,{type:"danger",autoClose:2e3})},complete:function(){t.removeClass("ej-loading")}})},n=function(e){var a=l(".ej-candidate-notes-from form").data("candidate-id"),t=l('.note-info[data-note-id="'+e+'"]');l(".ej-candidate-confirmation").fadeOut(150),l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{note_id:e,candidate_id:a,action:"easyjobs_delete_candidate_note"},beforeSend:function(){t.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(t.fadeOut(200).remove(),N("Note deleted successfully",{type:"success"})):console.log(e)},complete:function(){t.removeClass("ej-loading")}})},i=function(e,a,t,n,s){l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{pipeline_id:e,applicants_id:a,job_id:t,action:"easyjobs_change_pipeline"},beforeSend:function(){n.addClass("ej-loading")},success:function(e){"success"===JSON.parse(e).status.trim()&&s.call()},complete:function(){n.removeClass("ej-loading")}})},c=function(t,e){var e=e||t.serializeArray(),n=0;return l.each(e,function(e,a){d(t,a.name,a.value)&&n++}),n===e.length},d=function(e,a,t){var n=e.find('input[name="'+a+'"]'),s=n.siblings(".error-message"),i=n.parent();return t.length?((i.hasClass("input-group")||i.hasClass("checkbox"))&&(s=i.siblings(".error-message"),n.parent().removeClass("has-error")),s.length&&(n.removeClass("has-error"),s.remove()),!0):(r(e,a),!1)},r=function(e,a,t){var n=e.find('input[name="'+a+'"]'),s=n.parent(),e=n.siblings(".error-message"),a=t||"The "+a.replaceAll("_"," ")+" field is required.";s.hasClass("input-group")||s.hasClass("checkbox")?(e=s.siblings(".error-message"),s.addClass("has-error")):n.addClass("has-error"),e.length?e.html(a):(s.hasClass("input-group")||s.hasClass("checkbox")?s:n).after('<div class="error-message"> '+a+" </div>")},s=function(e,a){var t="";return l.each(e,function(e,a){t+='<option value="'+a.value+'">'+a.name+"</option>"}),t},o=function(){var e=l(".easyjobs-search-candidates").val(),a=l(".easyjobs-filter .filter:checked"),t="",n=l(".stage-filter:checked"),s=l(".ej-job-candidate-filter select").val(),i=[];return a.each(function(){i.push(l(this).val())}),n.length&&l.each(n,function(e,a){t+=l(a).val(),e+1!==n.length&&(t+=",")}),{search:e,filter:i,pipeline:t,sortBy:"select"!==s?s:""}},u=function(e){var a=l(".candidates-table .table-wrap"),t=l(".easyjobs-job-id").val();l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{parameters:e,job_id:t,action:"easyjobs_search_filter_candidates"},beforeSend:function(){a.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status&&(e.candidates.length?(e=f(e.candidates),l(".candidates-table .table__body").html(e)):l(".candidates-table .table__body").html(v()))},complete:function(){l(".search-easyjobs-candidates").find('input[type="text"]').val(""),a.removeClass("ej-loading")}})},p=function(e){var a='<div class="input-wrapper pipeline-wrapper">';return a+='<input type="text" name="pipeline[]" disabled="disabled" class="form-control pipeline-stage" value="'+e+'" data-stage-id="null">',a+='<a href="#" class="input-wrapper-append delete-stage"><i class="eicon e-delete"></i></a>',l.parseHTML(a+="</div>")},f=function(e){var s="",i=easyJobsJs.easyjobs_admin_url,o=l(".ej-job-candidate-filter select").val(),c=l(".easyjobs-ai-enabled").val();return l.each(e,function(e,a){var t=x("final_score"),n=a.final_ai_score;s+=' <div class="table__row" data-candidate-id="'+a.id+'">',s+='<div class="table-cell user__info">',s+='<a href="'+i+"&candidate-id="+a.id+' " class="d-flex align-items-center">',s+='<div class="user__image">',s+='<img src="'+a.user.profile_image+'" alt="" class="w-100 img-fluid">',s+="</div>",s+='<h4 class="user__name">'+a.user.name+"</h4>",s+="</a></div>",c&&(a.showAiScore?(s+='<div class="table-cell user-ai-score has-ai-score">',"select"!==o&&("SORT_BY_SKILL_MATCH"===o&&(t=x("skill"),n=a.skills_score),"SORT_BY_EDUCATION_MATCH"===o&&(t=x("education"),n=a.education_score),"SORT_BY_EXPERIENCE_MATCH"===o&&(t=x("experience"),n=a.experience_score),"SORT_BY_QUIZ_SCORE"===o&&(t=x("quiz"),n=Math.round(a.quiz_marks_obtain/a.quiz_marks_total*100))),n&&(s+='<div class="progress">',s+='<div class="progress-bar" role="progressbar" style="width: '+n+"%; background-color: "+t+'" aria-valuemin="0" aria-valuemax="100" aria-valuenow="'+n+'">',s+=n+"%",s+="</div></div>",a.scores&&Object.keys(a.scores).length&&(s+='<div class="ai-score-details"><ul>',l.each(a.scores,function(e,a){null!==a&&(s+="<li>",s+=T(e.replace("_"," "))+": ",s+='<strong style="color: '+x(e)+'">'+a+"%</strong>",s+="</li>")}),s+="</ul></div>")),s+="</div>"):s+='<div class="table-cell user-ai-score"></div>');n=a.pipeline.name||"";s+='<div class="table-cell candidate-apply-time">'+a.created_at+"</div>",s+='<div class="table-cell job__status">',s+='<div class="semi-button h-modified '+b(n)+' w-100">'+n+"</div>",s+="</div>",s+='<div class="table-cell user-rate">',s+='<div class="user__text__ratting">'+m(a.rating)+"</div>",s+="</div>",s+="</div>"}),l.parseHTML(s)},b=function(e){if(e)switch(e.trim().toLowerCase()){case"selected":return"success-label";case"rejected":return"danger-label";default:return"primary-label"}return""},m=function(e){for(var a="",t=1;t<=5;t++)a+='<div class="rate-count',a+=t<=e?' rated has-rating">':'">',a+='<i class="eicon e-star"></i></div>';return a+=""},v=function(e){e=e||"No candidates found";return l.parseHTML('<h4 class="empty-message">'+e+"</h4>")},g=function(){var e=l(".ej-tab-content"),a=l(".easyjobs-job-search").val(),n=l(".ej-tab-content .tab-pane.active").attr("id");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{keyword:a,type:n,action:"easyjobs_search_jobs"},beforeSend:function(){e.addClass("ej-loading")},success:function(e){var a=JSON.parse(e),t=l("#"+n+" .ej-jobs");"success"===a.status?a.jobs.length?(e=a.jobs,a=h(e,n,a.job_page_links),t.html(a)):l("#"+n+".ej-jobs").html(v("No Jobs Found")):t.html('<div class="col"><h4 class="empty-message">No jobs found</h4></div>')},complete:function(){e.removeClass("ej-loading")}})},h=function(e,t,n){var s="",i=easyJobsJs.easyjobs_admin_url,o=easyJobsJs.easyjobs_app_url;return l.each(e,function(e,a){s+='<div class="col"><div class="job-card">',s+='<div class="card-thumbnail" style="background-image: url('+a.banner_image+')">',a.is_expired?s+='<div class="thumbnail__status thumbnail__status--danger">Expired</div>':s+=_(a.status),s+='<div class="card-control">',s+='<a href="'+i+"&job-id="+a.id+'&view=pipeline" class="control-button control-button--primary">',s+='<div class="control-button__icon"><i class="eicon e-pipe"></i></div>',s+="<span>Pipeline</span>",s+="</a>",s+='<a href="'+i+"&job-id="+a.id+'&view=candidates" class="control-button control-button--primary">',s+='<div class="control-button__icon"><i class="eicon e-users"></i></div>',s+="<span>Candidates</span>",s+="</a>",s+='<a href="'+o+"/job/"+a.id+'/edit" target="_blank" class="control-button control-button--primary">',s+='<div class="control-button__icon"><i class="eicon e-document"></i></div>',s+="<span>Edit</span>",s+="</a>","published-jobs"===t&&(s+='<div class="dropdown job-control-more">',s+='<button class="control-button control-button--primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">',s+='<div class="control-button__icon"><i class="eicon e-plus"></i></div><span>More</span>',s+="</button>",s+='<ul class="dropdown-menu dropdown-menu-center">',s+=' <a class="dropdown-item" href="'+n[a.id]+'" target="_blank"><div class="dropdown-icon"><i class="eicon e-eye-1"></i></div>View</a>',a.hasOwnProperty("social_links")&&(s+='<div class="share-button">',s+='<a class="dropdown-item" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><div class="dropdown-icon"><i class="eicon e-share"></i></div>Share</a>',s+='<div class="share-button-menu">',s+='<a class="dropdown-item" href="'+a.social_links.facebook+'"><div class="dropdown-icon"><i class="eicon e-facebook"></i></div>facebook</a>',s+='<a class="dropdown-item" href="'+a.social_links.facebook+'"><div class="dropdown-icon"><i class="eicon e-linkedin"></i></div>linkedin</a>',s+='<a class="dropdown-item" href="'+a.social_links.facebook+'"><div class="dropdown-icon"><i class="eicon e-twitter"></i></div>twitter</a>',s+="</div>",s+="</div>"),s+="</ul>",s+="</div>"),s+="</div>",s+="</div>",s+='<div class="card-content">',s+='<div class="card-content__left">',s+='<h3 class="card-title">'+a.title+"</h3>",s+='<h4 class="card-sub-title">'+a.category.name+"</h4>",s+='<div class="card-info-group">',s+='<p class="card-info">Post Date: '+a.created_at+"</p>",s+='<p class="card-info">Expiry Date: '+a.expire_at+"</p>",s+="</div>",s+="</div>",s+=' <div class="card-content__right">',s+="<p>"+a.applicant_count+" Applied</p>",a.hasOwnProperty("applicants")&&(s+='<div class="applicants__img">',l.each(a.applicants,function(e,a){s+='<img src="'+a.image+'" alt="" />'}),s+='<p class="Applicants">'+a.applicant_count+"</p>",s+="</div>"),s+="</div>",s+="</div>",s+="</div></div>"}),l.parseHTML(s)},_=function(e){switch(e){case 1:return'<div class="thumbnail__status thumbnail__status--warning">Draft</div>';case 2:return'<div class="thumbnail__status thumbnail__status--success">Active</div>';case 3:return'<div class="thumbnail__status thumbnail__status--info">Archived</div>';case 4:return'<div class="thumbnail__status thumbnail__status--danger">Deleted</div>';case 10:return'<div class="thumbnail__status thumbnail__status--success">Republished</div>';default:return'<div class="thumbnail__status thumbnail__status--success">Active</div>'}},y=function(){var e=l(".ej-all-candidate-search").val(),a=l(".ej-candidate-job-select").val(),t=l(".ej-candidate-rating-select").val(),n=l(".ej-candidate-status-select").val(),s={};return e.length&&(s.candidate_name=e),"select"!==a&&(s.job_id=a),"select"!==t&&(s.rating=t),"select"!==n&&(s.status=n),s},j=function(t){var n=l(".ej-all-candidates");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{parameters:t,action:"easyjobs_search_filter_all_candidates"},beforeSend:function(){n.addClass("ej-loading")},success:function(e){var a=JSON.parse(e);"success"===a.status&&a.data.data.length?(e=w(a.data.data),n.html(e),a=k(parseInt(a.data.current_page),parseInt(a.data.per_page),parseInt(a.data.total),t),l(".ej-all-candidates-pagination").html(a)):n.html('<div class="col"><h4 class="empty-message">No candidates found</h4></div>')},complete:function(){n.removeClass("ej-loading")}})},w=function(e){var n="";return l.each(e,function(e,a){var t=0<a.rating?"":"disabled";n+='<div class="col"><div class="user-card">',n+='<div class="user__ratting info-button-light '+t+'">',n+='<i class="eicon e-star"></i> '+a.rating,n+="</div>",n+='<div class="user-picture">',n+='<img src="'+a.profile_image+'" alt="applicant-img" class="img-fluid" />',n+="</div>",n+='<div class="user-info">',n+="<h5>"+a.name+"</h5>",a.job_title&&(n+="<p>"+a.job_title+"</p>"),n+="</div>",n+='<a href=" '+easyJobsJs.easyjobs_admin_url+"&candidate-id="+a.id+' " class="semi-button semi-button-info mt-auto"> View details </a>',n+="</div></div>"}),l.parseHTML(n)},k=function(e,a,t,n){var s=Math.ceil(t/a),i="";if(1<s){i+='<ul class="pagination-list pt-5 ej-js-pagination">',i+='<li class="pagination-list__item"><a class="pagination-list__link ej-pagination-control ej-candidate-prev-page-link" href="#"><i class="eicon e-arrow-left"></i></a></li>';for(var o=1;o<=s;o++)i+='<li class="pagination-list__item '+(e===o?"pagination-list__item--active":"")+'">',i+='<a class="pagination-list__link" href="#" data-page-number="'+o+'">'+o+"</a>",i+="</li>";i+='<li class="pagination-list__item"><a class="pagination-list__link ej-pagination-control ej-candidate-next-page-link" href="#"><i class="eicon e-arrow-right"></i></a></li>',i+="</ul>"}return l.parseHTML(i)},C=function(e){var n=l(".pipeline-box"),s=easyJobsJs.easyjobs_admin_url;l.each(e,function(e,a){var t="";n.find(".pipeline-"+a.name.toLowerCase().replace(" ","-")+" .candidates-number").html(a.applicants.length),l.each(a.applicants,function(e,a){t+='<div class="col"> <div class="pipeline-card">',t+='<div class="user__image">',t+='<img src=" '+a.user.profile_image+' " alt="" class="w-100 img-fluid">',t+="</div>",t+='<div class="user__details">',a.user.name.length&&(t+='<a class="user__name" href="'+s+"&candidate-id="+a.id+' " >'+a.user.name+"</a>"),t+='<div class="d-flex">',a.user.nationality&&(t+='<span class="user__address">'+a.user.nationality+"</span>"),t+='<p class="user__experience"> '+a.user.experience+" Years</p>",t+="</div>",t+='<div class="d-flex justify-content-between mt-3">',t+='<div class="user__text__ratting"> '+m(a.rating)+" </div>",t+='<div class="application-duration"> '+a.updated_diff+" </div>",t+="</div>",t+='<label class="checkbox pipeline-checkbox">',t+='<input type="checkbox" class="applicant" value=" '+a.id+' " id="applicant- '+a.id+' ">',t+="<span></span></label>",t+="</div>",t+="</div></div>"}),n.find("#"+a.name.toLowerCase().replace(" ","-")+" .row").html(t)})},x=function(e){switch(e){case"quiz":return"#ff9635";case"skill":return"#2fc1e1";case"education":return"#597dfc";case"experience":return"#60ce83";default:return"#ff5f74"}},S=function(e,a){var t=l(".ej-invite-candidate-modal .modal-dialog .modal-content"),n=l(".easyjobs-job-id").val(),s=l(".ej-invite-candidate");l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{id:n,action:"easyjobs_post_data",type:"invite_candidate",data:{email:e}},beforeSend:function(){t.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(swal({title:"Invitation link is sent to candidate",text:"Click ok to continue",icon:"success",buttons:[!1,"Ok"],timer:2e3}),a||J()):swal({title:"Unable to invite candidates",text:e.message||"Click ok to continue",icon:"error",buttons:[!1,"Ok"],timer:2e3})},complete:function(){t.removeClass("ej-loading"),a||(s.find(".user-email").val(""),s.find(".error-message").html(""))}})},J=function(){var e=l(".ej-invite-candidate-modal .modal-dialog .modal-content"),a=l(".ej-invite-candidate-modal .modal-dialog .modal-content .invite__candidate--table .table-wrap"),t=l(".easyjobs-job-id").val();l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{job_id:t,action:"easyjobs_get_invited_candidates"},beforeSend:function(){e.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?e.data.length?a.removeClass("d-none").html(O(e.data)):a.html('<h6 class="empty-message">No invitation found.</h6>'):swal({title:"Unable to get candidates",text:e.message||"Click ok to continue",icon:"error",buttons:[!1,"Ok"]})},complete:function(){e.removeClass("ej-loading")}})},O=function(e){var t="";return t+='<div class="table table-modal">',t+='<div class="table__row table__head">',t+='<div class="table-cell">Name</div><div class="table-cell">Email</div>',t+='<div class="table-cell" style="width: 110px;"><span class="d-flex justify-content-end">Actions</span></div>',t+="</div>",l.each(e,function(e,a){t+='<div class="table__row" data-candidate-email="'+a.email+'">',t+='<div class="table-cell">'+a.name+"</div>",t+='<div class="table-cell"> <span class="text-break">'+a.email+" </span> </div>",t+=' <div class="table-cell" style="width: 110px;"> <div class="d-flex justify-content-end">',t+='<a href="#" class="control-button control-button--warning resend-invitation"><div class="control-button__icon"><i class="eicon e-send"></i></div></a>',t+='<a href="#" class="control-button control-button--danger delete-invitation"><div class="control-button__icon"><i class="eicon e-delete"></i></div></a>',t+="</div></div>",t+="</div>"}),t+="</div>"},T=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a=function(a,e,t,n){var s=5-a.nextAll(".rate-count").length,n=n||!1;l.ajax({type:"POST",url:easyJobsJs.ajax_url,data:{id:t,action:"easyjobs_post_data",type:"rate_candidate",data:{rating:s}},beforeSend:function(){e.addClass("ej-loading")},success:function(e){e=JSON.parse(e);"success"===e.status.trim()?(a.addClass("rated has-rating"),a.prevAll(".rate-count").addClass("rated has-rating"),a.nextAll(".rate-count").removeClass("rated has-rating"),n?window.location.reload():swal({title:"Rated successfully",text:"Click ok to continue",icon:"success",buttons:[!1,"Ok"],timer:1500})):swal({title:"Unable rate candidate",text:e.message||"Click ok to continue",icon:"error",buttons:[!1,"Ok"],timer:2e3})},complete:function(){e.removeClass("ej-loading")}})},D=function(e,a){e.addClass("has-error"),e.next(".error-message").length?e.next(".error-message").html(a):e.after('<div class="error-message">'+a+"</div>")},P=function(e){e.removeClass("has-error"),e.next(".error-message").length&&e.next(".error-message").html("")},A=function(e,a){var t="";a&&(t+='<div class="details__card gutter-10 ej-candidate-notes"> <div class="details__card__body">'),t+='<div class="note-info" data-note-id="'+e.id+'">',t+='<a href="#" class="erase-button"><i class="eicon e-delete"></i></a>',t+='<div class="label__full--eraseble label__full--primary">',t+="<p> ",t+=e.note,e.tags.length&&(t+='<span class="tag-container">',l.each(e.tags,function(e,a){t+='<span class="tag-name">@'+a.name+"</span>"}),t+="</span>"),t+="</p>",t+="</div>",t+='<div class="note-admin-info">',t+='<div class="note-by"><strong>'+e.creator+"</strong></div>",t+='<div class="note-time"><span>'+e.created_at+"</span></div>",t+="</div>",t+="</div>",t+="</div>",a&&(t+="</div></div>"),a?l(".ej-candidate-notes-from").after(t):l(".ej-candidate-notes .details__card__body").prepend(t)},N=function(e,a){var t='<div class="ej-toast bg-info">';if(a.hasOwnProperty("type"))switch(a.type.toString()){case"success":t='<div class="ej-toast bg-success">';break;case"warning":t='<div class="ej-toast bg-warning">';break;case"danger":t='<div class="ej-toast bg-danger">'}if(t+='<div class="ej-toast-body d-flex align-items-center">',a.hasOwnProperty("type"))switch(a.type.toString()){case"success":t+='<i class="dashicons dashicons-yes-alt"></i>';break;case"warning":case"danger":t+='<i class="dashicons dashicons-warning"></i>';break;default:t+='<i class="dashicons dashicons-info"></i>'}t+="<span>"+e+"</span></div>";var n=l(t+="</div>");n.appendTo(".easy-page-body").animate({right:"30px",opacity:1},300,"swing",function(){var e=2500;a.hasOwnProperty("autoClose")&&(e=a.autoClose),setTimeout(function(){n.animate({right:"-30px",opacity:0},200,"swing",function(){n.remove()})},e)})},I=function(){var e=new URLSearchParams(window.location.search);return e.has("candidate-id")?e.get("candidate-id"):null}}(jQuery);